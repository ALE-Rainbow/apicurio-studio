<div bsModal #generateProjectModal="bs-modal" class="modal fade" id="generateProjectModal" tabindex="-1" role="dialog"
     aria-labelledby="generateProjectModalLabel" aria-hidden="true" *ngIf="isOpen()" (onHidden)="close()" >
    <div class="modal-dialog">
        <div class="experimental-pf">
            <div class="experimental-pf-bar">
                <button class="experimental-pf-more-info">
                    Experimental <i class="fa fa-flask"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" aria-hidden="true" (click)="cancel()">
                        <span class="pficon pficon-close"></span>
                    </button>
                    <h4 class="modal-title" id="generateProjectModalLabel">Generate WildFly Swarm Project</h4>
                </div>
                <div class="modal-body">
                    <p>Enter some information about the project below and then click <strong>Generate</strong>.</p>
                    <form id="genproj-form" class="form-horizontal" #genProjForm="ngForm" data-dismiss="modal">
                        <div class="form-group">
                            <label class="col-sm-3 control-label required" for="groupId">Group ID</label>
                            <div class="col-sm-9">
                                <input #groupIdInput="ngModel" name="groupId" type="text" id="groupId" class="form-control" placeholder="org.example.api"
                                       required pattern="[a-zA-Z][a-zA-Z0-9\.\-_]*" [(ngModel)]="groupId" #name="ngModel">
                                <form-error-message [inputModel]="groupIdInput" [type]="'required'">Group ID is required.</form-error-message>
                                <form-error-message [inputModel]="groupIdInput" [type]="'pattern'">Please enter a valid Maven groupId.</form-error-message>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label required" for="artifactId">Artifact ID</label>
                            <div class="col-sm-9">
                                <input #artifactIdInput="ngModel" name="artifactId" type="text" id="artifactId" class="form-control" placeholder="my-api"
                                       required pattern="[a-zA-Z][a-zA-Z0-9\.\-_]*" [(ngModel)]="artifactId" #name="ngModel">
                                <form-error-message [inputModel]="artifactIdInput" [type]="'required'">Artifact ID is required.</form-error-message>
                                <form-error-message [inputModel]="artifactIdInput" [type]="'pattern'">Please enter a valid Maven artifactId.</form-error-message>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label required" for="javaPackage">Java Package</label>
                            <div class="col-sm-9">
                                <input #javaPackageInput="ngModel" name="javaPackage" type="text" id="javaPackage" class="form-control" placeholder="org.example.api"
                                       required pattern="[a-zA-Z][a-zA-Z0-9\._]*" [(ngModel)]="javaPackage" #name="ngModel">
                                <form-error-message [inputModel]="javaPackageInput" [type]="'required'">Java package is required.</form-error-message>
                                <form-error-message [inputModel]="javaPackageInput" [type]="'pattern'">Please enter a valid Java package name.</form-error-message>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <a #downloadLink href="download?type=codegen-swarm&id={{ apiId }}&groupId={{ groupId }}&artifactId={{ artifactId }}&package={{ javaPackage }}"
                       download="{{ artifactId }}.zip" class="hidden"></a>
                    <button class="btn btn-primary" (click)="downloadLink.click() ; cancel()" [disabled]="!genProjForm.form.valid">Generate</button>
                    <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
